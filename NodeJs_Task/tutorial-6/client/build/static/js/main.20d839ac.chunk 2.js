(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,n){},40:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(26),a=n.n(r),s=(n(36),n(14)),d=n(31),o=n(2),j=n(13),l=n(12),b=n(21),m=n(1),u=Object(c.createContext)([]),h=function(e){var t=Object(c.useState)([]),n=Object(b.a)(t,2),i=n[0],r=n[1],a=Object(c.useMemo)((function(){return{order:i,setOrder:r}}),[i]);return Object(m.jsx)(u.Provider,{value:a,children:e.children})},p=u;n(40);function O(){return Object(m.jsx)("ul",{className:"nav",children:M.map((function(e){return Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(j.b,{to:e.path,children:Object(m.jsx)("p",{children:"My Order"===e.title?"".concat(e.title):e.title})})})}))})}n(46);var x=n.p+"static/media/autel_evo_2.9e41d03b.jpg",f=n.p+"static/media/dji_air_2.e2a513bb.jpg",v=n.p+"static/media/dji_mini_2.1476d265.jpg",g=n.p+"static/media/dji_phantom_pro.29ee040b.jpg",_=[x,v,f,g];var S=function(e){var t=e.text;return Object(m.jsxs)("div",{className:"drone-list",children:[Object(m.jsx)("h4",{children:t||"Enjoy your flight"}),_.map((function(e){return Object(m.jsx)("div",{className:"drone-list_box",children:Object(m.jsxs)(j.b,{to:"/products",children:[" ",Object(m.jsx)("img",{src:e,alt:e})]})},e)}))]})};n(47);function N(e){var t=e.order,n={},c=0;return t.forEach((function(e){c+=e.price,n[e.name]?n[e.name].count=n[e.name].count+1:n[e.name]=Object(s.a)(Object(s.a)({},e),{},{count:1})})),Object(m.jsxs)("div",{className:"ordered-drones",children:[Object(m.jsx)("ul",{className:"ordered-drones-list",children:Object.keys(n).map((function(e){return Object(m.jsxs)("li",{children:["\ud83d\ude81 ",n[e].name,Object(m.jsx)("span",{className:"count",children:"".concat(n[e].price," UAH (").concat(n[e].count,")")})]},n[e].id)}))}),Object(m.jsxs)("p",{children:["Total: ",c,"UAH"]})]})}n(48);var y=function(){return Object(m.jsx)("header",{className:"app-header",children:Object(m.jsxs)("div",{className:"header-title",children:[Object(m.jsx)("h1",{children:"Drones.net"}),Object(m.jsx)("h4",{children:"Welcome to the store, where you can order the best drones in Ukraine"})]})})};var H=n(30),A=n.p+"static/media/hubsan_zino_pro.e1dd01ff.jpg",C=n.p+"static/media/xiaomi_fimi.39daa98c.jpg",F=(n(49),[{_id:"1",name:"djiAir",price:2e4,topSpeed:73.4,topHeight:4e3},{_id:"2",name:"djiMini",price:17e3,topSpeed:73.4,topHeight:3500},{_id:"3",name:"djiPhantom",price:74e3,topSpeed:80,topHeight:5e3},{_id:"4",name:"autel",price:36e3,topSpeed:100,topHeight:4230},{_id:"5",name:"xiaomi",price:18e3,topSpeed:62.5,topHeight:3e3},{_id:"6",name:"hubsan",price:25e3,topSpeed:78,topHeight:4500}]);n(50);var M=[{path:"/",component:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y,{}),Object(m.jsx)(O,{}),Object(m.jsx)(S,{})]})},title:"Home",exact:!0},{path:"/products",component:function(){var e=Object(c.useState)(F),t=Object(b.a)(e,2),n=t[0],i=t[1];Object(c.useEffect)((function(){fetch("http://localhost:8080/api/products").then((function(e){return e.json()})).then((function(e){return i(e.data)}))}),[]);var r=Object(c.useContext)(p),a=r.order,s=r.setOrder;return Object(m.jsxs)("section",{children:[Object(m.jsx)(O,{}),Object(m.jsx)("h3",{children:"Our best drones"}),Object(m.jsx)("div",{className:"drones-list",children:n.map((function(e){return Object(m.jsxs)("div",{className:"drone-item",children:[Object(m.jsx)("img",{src:(t=e.name,{autel:x,djiMini:v,djiAir:f,djiPhantom:g,hubsan:A,xiaomi:C}[t]),alt:e.name}),Object(m.jsxs)("p",{className:"drone-name",children:[e.name,Object(m.jsx)("div",{children:"Price: (".concat(e.price," UAH)")}),Object(m.jsx)("div",{children:"Speed: ".concat(e.topSpeed,"km/h")}),Object(m.jsx)("div",{children:"Max height: ".concat(e.topHeight,"m")})]}),Object(m.jsx)("button",{onClick:function(){return s([].concat(Object(H.a)(a),[e]))},children:"Add to my Order"})]},e._id);var t}))})]})},title:"Drones",exact:!0},{path:"/order",component:function(){var e=Object(c.useContext)(p).order;return Object(m.jsxs)("div",{className:"order-form",children:[Object(m.jsx)(O,{}),Object(m.jsx)("h1",{children:"Your Order"}),e.length>=1&&Object(m.jsx)(N,{order:e}),Object(m.jsx)(l.d,{initialValues:{email:"",address:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(t,n){var c=n.setSubmitting;console.log(t);fetch("http://localhost:8080/api/orders",{method:"POST",body:JSON.stringify({email:t.email,address:t.address,order:e})}),c(!1)},children:function(e){var t=e.isSubmitting;return Object(m.jsxs)(l.c,{children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email"}),Object(m.jsx)(l.b,{type:"email",name:"email"}),Object(m.jsx)(l.a,{name:"email",component:"div"})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"address",children:"Address"}),Object(m.jsx)(l.b,{type:"address",name:"address"}),Object(m.jsx)(l.a,{name:"address",component:"div"})]}),Object(m.jsx)("button",{type:"submit",disabled:t,children:"Submit"})]})}})]})},title:"My Order"}],P=function(e){var t=e.component,n=Object(d.a)(e,["component"]),c=t;return Object(m.jsx)(o.a,Object(s.a)(Object(s.a)({},n),{},{children:Object(m.jsx)(h,{children:Object(m.jsx)(c,{})})}))};var k=function(){return Object(m.jsx)("div",{className:"app",children:Object(m.jsx)(j.a,{children:Object(m.jsx)(o.c,{children:M.map((function(e){return Object(m.jsx)(P,{exact:e.exact,path:e.path,component:e.component})}))})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root")),E()}},[[51,1,2]]]);
//# sourceMappingURL=main.20d839ac.chunk.js.map